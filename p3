#include <bits/stdc++.h>
using namespace std;

class Bridges {
    vector<vector<int>> g;
    vector<int> disc, low;
    vector<pair<int,int>> bridges;
    int timer=0;

    void dfs(int u,int parent){
        disc[u]=low[u]=++timer;

        for(int v:g[u]){
            if(v==parent) continue;

            if(!disc[v]){
                dfs(v,u);
                low[u]=min(low[u],low[v]);

                if(low[v] > disc[u])
                    bridges.push_back({u,v});
            }
            else{
                low[u]=min(low[u],disc[v]);
            }
        }
    }

public:
    Bridges(int n){ g.resize(n); disc.resize(n); low.resize(n); }

    void addEdge(int u,int v){
        g[u].push_back(v);
        g[v].push_back(u);
    }

    vector<pair<int,int>> findBridges(){
        for(int i=0;i<g.size();i++)
            if(!disc[i])
                dfs(i,-1);
        return bridges;
    }
};