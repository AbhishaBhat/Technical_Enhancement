#include <bits/stdc++.h>
using namespace std;

struct TrieNode {
    unordered_map<char, TrieNode*> child;
    vector<pair<string,int>> top; // top 5 words + freq
};

class Trie {
    TrieNode* root;

    void updateTop(vector<pair<string,int>>& v, string word, int freq){
        bool found=false;
        for(auto &p:v){
            if(p.first==word){
                p.second=freq;
                found=true;
                break;
            }
        }
        if(!found) v.push_back({word,freq});

        sort(v.begin(),v.end(),[](auto&a,auto&b){return a.second>b.second;});
        if(v.size()>5) v.pop_back();
    }

public:
    Trie(){ root=new TrieNode(); }

    void insert(string word,int freq){
        TrieNode* node=root;
        for(char c:word){
            if(!node->child[c]) node->child[c]=new TrieNode();
            node=node->child[c];
            updateTop(node->top,word,freq);
        }
    }

    vector<string> query(string prefix){
        TrieNode* node=root;
        for(char c:prefix){
            if(!node->child.count(c)) return {};
            node=node->child[c];
        }
        vector<string> ans;
        for(auto &p:node->top) ans.push_back(p.first);
        return ans;
    }
};